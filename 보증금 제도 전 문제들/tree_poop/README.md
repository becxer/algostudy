배설물 관찰 : http://183.106.113.109/30stair/poop/poop.php?pname=poop


프로그램 명: poop

제한시간: 1 초

준곰이라는 생물은 최근에 물고기를 키우기 시작했다.

이 물고기는 신기하게도 왼쪽으로 움직이거나 오른쪽으로 움직이는 것밖에 하지 못한다고 한다. 이 물고기는 또 어항을 돌아다니면서 실 같은 기다란 똥을 어항 바닥에 뿌린다고 한다. 준곰은 이 배설물이 문제라는 것을 깨닫고 친구인 당신에게 어항 바닥이 똥에 얼마나 덮혔는 지 물어보려고 한다. 준곰은 집요해서 계속해서 당신에게 계속해서 물어볼 것이다! 문제는 그 사이에 또 물고기가 똥을 쌀 수 도 있다는 것이다. Q개의 상황(물고기를 똥을 싸거나 준곰이가 질문을 함)들이 주어진다. 준곰이가 질문을 하면 현재까지 일어난 상황들을 바탕으로 올바른 답을 해줘야 한다.
(주의 사항 : 겹쳐 있는 똥은 한 번 센다.)

입력

첫 번째 줄엔 어항의 가로 길이 W와 처리해야 될 상황들의 개수인 Q가 주어진다.
2 ~ Q+1 줄엔 각각 하나의 상황이 물고기가 똥을 싼 것인지 준곰이 질문을 한 것인지 알려주는 정수 X가 주어진다. 만약 X가 0이면 물고기가 똥을 싼 것이고, X가 1이라면 준곰이 질문을 한 것이다. X가 0일 경우 같은 줄에 똥이 시작하는 좌표와 끝나는 좌표 a, b가 주어진다.
입력 제한

20 <= W <= 200,000, 2 <= Q <= 100,000, 1 <= a < b <= W, a, b는 정수)
출력

한 줄은 하나의 질문에 대응된다. 준곰이 질문할 때마다 똥이 존재하는 구간들의 길이의 합을 출력한다.
입출력 예

입력

8 4

0 1 3

1

0 2 5

1

출력 

2

4

(첫번째 질문 전까지 똥들이 1 ~ 3구간을 덮고 있어서 2를 출력하고, 2번째 질문 전까지 똥들이 1 ~ 5구간을 덮고 있어서 4를 출력한다.)

출처:ryanch1 
  
